<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LinguaLab — Small Lessons for Big Progress</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />

  <style>
    :root {
      --primary: #22d3ee;
      --accent: #f97316;
      --navy: #1f4e79;
      --bg: #f8fafc;
      --radius: 24px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: #0f172a;
      line-height: 1.6;
      padding-top: 80px;
    }

    /* NAVBAR */
    .navbar {
      position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
      display: flex; align-items: center; justify-content: space-between;
      padding: 15px 40px; background: #fff; box-shadow: 0 4px 20px rgba(0,0,0,.05);
    }
    .navbar-left { display: flex; align-items: center; gap: 12px; }
    .nav-logo { height: 50px; width: auto; }
    .nav-title { font-size: 24px; font-weight: 800; color: var(--navy); }
    .navbar-right a { color: var(--navy); font-weight: 600; text-decoration: none; font-size: 14px; margin-left: 20px; transition: 0.3s; }
    .navbar-right a:hover { color: var(--primary); }

    .hero {
      padding: 120px 10%;
      text-align: center;
      background: linear-gradient(135deg, #22d3ee, #a78bfa);
      color: #fff;
    }
    .hero h1 { font-size: clamp(36px, 6vw, 56px); font-weight: 800; margin-bottom: 20px; }
    .hero p { font-size: 20px; opacity: 0.9; max-width: 800px; margin: 0 auto; }

    /* КАРТОЧКИ В ОДНУ СТРОКУ */
    .features { padding: 60px 5%; text-align: center; }
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 25px;
    }
    .card {
      background: #fff; border-radius: var(--radius); overflow: hidden;
      text-decoration: none; border: 1px solid #e2e8f0; transition: 0.3s;
      display: flex; flex-direction: column; height: 100%;
    }
    .card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
    .card-img { width: 100%; height: 160px; object-fit: cover; }
    .card-content { padding: 20px; text-align: left; flex-grow: 1; }
    .card-content h3 { color: var(--navy); font-size: 18px; margin-bottom: 10px; }
    .card-content p { color: #64748b; font-size: 14px; }

    /* ДЕРЕВО НА ВСЮ СТРАНИЦУ */
    .progress-section { 
      width: 100%; 
      padding: 80px 5%; 
      background: #f1f5f9; 
    }
    .progress-container {
      width: 100%; 
      max-width: 1200px; 
      margin: 0 auto; 
      background: #fff;
      padding: 50px; 
      border-radius: 40px;
      display: flex; 
      align-items: center; 
      justify-content: center; 
      flex-wrap: wrap; 
      gap: 60px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.05);
    }
    .tree-box { 
      flex: 0 0 320px; 
      height: 320px; 
      background: #f0fdfa; 
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Анимация покачивания дерева */
    @keyframes sway {
      0%, 100% { transform: rotate(-1.5deg); }
      50% { transform: rotate(1.5deg); }
    }
    #knowledge-tree { 
      width: 100%; height: 100%; 
      transform-origin: bottom center;
      animation: sway 4s ease-in-out infinite;
    }
    
    .stats-content { flex: 1; min-width: 300px; }
    .stat-val { font-size: 64px; font-weight: 800; color: var(--navy); line-height: 1; }
    .btn { padding: 16px 32px; border-radius: 999px; border: none; font-weight: 700; cursor: pointer; transition: 0.3s; font-family: inherit; }
    .btn-outline { background: transparent; color: var(--navy); border: 2px solid var(--navy); font-size: 16px; }
    .btn-outline:hover { background: var(--navy); color: #fff; }

    footer { background: #0f172a; color: #94a3b8; padding: 40px 8%; text-align: center; }

    @media (max-width: 1100px) {
      .cards-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 650px) {
      .cards-grid { grid-template-columns: 1fr; }
      .progress-container { padding: 30px; text-align: center; }
    }
  </style>
</head>
<body>

  <header class="navbar">
    <div class="navbar-left">
      <img src="assets/img/logo.png" alt="Logo" class="nav-logo">
    </div>
    <nav class="navbar-right">
      <a href="grammar.html">Grammar Magic</a>
      <a href="vocabulary.html">Word Bank</a>
      <a href="exercises.html">Fun Homework</a>
      <a href="parents.html">Wiki Parents</a>
    </nav>
  </header>

  <section class="hero">
    <h1>LinguaLab</h1>
    <p>Bilingual mini-lessons with audio, games, and weekly practice — designed for families.</p>
  </section>

  <section class="features">
    <div class="cards-grid">
      <a href="grammar.html" class="card">
        <img src="assets/img/grammar.png" alt="Grammar" class="card-img">
        <div class="card-content">
          <h3>Grammar Magic</h3>
          <p>Complex rules turned into simple, playful patterns for young explorers to master effortlessly.</p>
        </div>
      </a>
      <a href="vocabulary.html" class="card">
        <img src="assets/img/word.png" alt="Vocabulary" class="card-img">
        <div class="card-content">
          <h3>Word Bank</h3>
          <p>Build a massive vocabulary using visual memory techniques and interactive matching games.</p>
        </div>
      </a>
      <a href="exercises.html" class="card">
        <img src="assets/img/hw.png" alt="Exercises" class="card-img">
        <div class="card-content">
          <h3>Fun Homework</h3>
          <p>Daily creative challenges that keep the brain sharp and turn learning into a habit.</p>
        </div>
      </a>
      <a href="parents.html" class="card">
        <img src="assets/img/parents.png" alt="Parents" class="card-img">
        <div class="card-content">
          <h3>Wiki Parents</h3>
          <p>Comprehensive resources and guides to help you support your child's bilingual journey.</p>
        </div>
      </a>
    </div>
  </section>

  <section class="progress-section">
    <div class="progress-container">
      <div class="tree-box">
        <svg viewBox="0 0 100 100" id="knowledge-tree">
          <path d="M50 85 L50 60" stroke="#5d4037" stroke-width="5" stroke-linecap="round"/>
          <path d="M50 72 L42 58" stroke="#5d4037" stroke-width="3" stroke-linecap="round"/>
          <path d="M50 68 L60 55" stroke="#5d4037" stroke-width="3" stroke-linecap="round"/>
          <g id="tree-leaves"></g>
          <g id="tree-fruits"></g>
        </svg>
      </div>
      <div class="stats-content">
        <p style="text-transform: uppercase; font-weight: 700; color: var(--primary); letter-spacing: 1px;">Academy Growth Tracker</p>
        <div class="stat-val" id="words-count">0</div>
        <p style="font-size: 20px; color: #64748b; margin: 10px 0 25px;" id="status-text">Go to "Grammar Magic" to grow your tree!</p>
        <button class="btn btn-outline" onclick="downloadReport()">Download Report</button>
      </div>
    </div>
  </section>

  <footer class="footer">
  © <span id="year">2026</span> LinguaLab • Small lessons. Real progress. All rights reserved.
  </footer>

  <script>
    let score = parseInt(localStorage.getItem('ll_score')) || 0;

    function updateDisplay() {
      document.getElementById('words-count').innerText = score;
      const leavesContainer = document.getElementById('tree-leaves');
      const fruitsContainer = document.getElementById('tree-fruits');
      const statusText = document.getElementById('status-text');


      if (score >= 40) statusText.innerHTML = "Level: <strong style='color:#10b981'>Magic Oak</strong>";
      else if (score >= 20) statusText.innerHTML = "Level: <strong style='color:#10b981'>Strong Sapling</strong>";
      else if (score > 0) statusText.innerHTML = "Level: <strong style='color:#10b981'>Young Sprout</strong>";

      leavesContainer.innerHTML = '';
      fruitsContainer.innerHTML = '';

      for (let i = 0; i < score; i++) {
        if (i >= 100) break;
        const angle = (i * 137.5) % 360; 
        const radius = Math.sqrt(i) * 4.2;
        const x = 50 + radius * Math.cos(angle * Math.PI / 180);
        const y = 55 + radius * Math.sin(angle * Math.PI / 180);
        
        // Листья
        const leaf = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        leaf.setAttribute("cx", x); leaf.setAttribute("cy", y); leaf.setAttribute("r", "2.5");
        leaf.setAttribute("fill", i % 3 === 0 ? "#4ade80" : (i % 3 === 1 ? "#22c55e" : "#16a34a"));
        leavesContainer.appendChild(leaf);

        // яблоки, если очков > 20
        if (score >= 20 && i % 6 === 0) {
          const fruit = document.createElementNS("http://www.w3.org/2000/svg", "circle");
          fruit.setAttribute("cx", x + 1.2); fruit.setAttribute("cy", y + 1.2); fruit.setAttribute("r", "1.5");
          fruit.setAttribute("fill", "#ef4444");
          fruitsContainer.appendChild(fruit);
        }
      }
    }

    function downloadReport() {
        const score = localStorage.getItem('ll_score') || 0;
        const date = new Date().toLocaleDateString();
        
        // Определяем звание на основе очков
        let rank = "Beginner Explorer";
        if (score >= 100) rank = "Master of Magic";
        else if (score >= 50) rank = "Knowledge Hero";
        else if (score >= 20) rank = "Bright Sprout";
    
        const reportWindow = window.open('', '_blank');
        reportWindow.document.write(`
            <html>
            <head>
                <title>LinguaLab Diploma</title>
                <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;800&display=swap" rel="stylesheet">
                <style>
                    body { 
                        margin: 0; padding: 0; 
                        background: #f1f5f9; 
                        font-family: 'Inter', sans-serif; 
                        display: flex; justify-content: center; align-items: center; min-height: 100vh;
                    }
                    .diploma {
                        width: 800px;
                        padding: 60px;
                        background: #fff;
                        border: 15px solid #22d3ee;
                        border-image: linear-gradient(135deg, #22d3ee, #a78bfa) 1;
                        text-align: center;
                        position: relative;
                        box-shadow: 0 40px 60px rgba(0,0,0,0.1);
                    }
                    .logo { font-size: 24px; font-weight: 800; color: #1f4e79; margin-bottom: 40px; }
                    h1 { font-size: 54px; margin: 0; color: #1f4e79; text-transform: uppercase; letter-spacing: 2px; }
                    .award-text { font-size: 22px; color: #64748b; margin: 20px 0; }
                    .rank-badge { 
                        display: inline-block; 
                        padding: 10px 30px; 
                        background: #f97316; 
                        color: #fff; 
                        border-radius: 999px; 
                        font-size: 28px; 
                        font-weight: 800;
                        margin-bottom: 30px;
                    }
                    .stats-box {
                        display: flex; justify-content: center; gap: 40px; margin: 40px 0;
                    }
                    .stat-item { text-align: center; }
                    .stat-val { font-size: 48px; font-weight: 800; color: #22d3ee; display: block; }
                    .stat-label { font-size: 14px; color: #94a3b8; text-transform: uppercase; }
                    
                    .seal {
                        position: absolute; bottom: 40px; right: 40px;
                        width: 120px; height: 120px;
                        background: #fbbf24;
                        border-radius: 50%;
                        display: flex; align-items: center; justify-content: center;
                        border: 4px dashed #fff;
                        box-shadow: 0 0 0 8px #fbbf24;
                        color: #fff; font-weight: 800; transform: rotate(-15deg);
                    }
                    @media print {
                        body { background: #fff; }
                        .diploma { box-shadow: none; border-width: 20px; }
                    }
                </style>
            </head>
            <body>
                <div class="diploma">
                    <div class="logo">LINGUALAB ACADEMY</div>
                    <h1>DIPLOMA</h1>
                    <p class="award-text">This is to certify that our brilliant student has reached the rank of:</p>
                    <div class="rank-badge">${rank}</div>
                    
                    <div class="stats-box">
                        <div class="stat-item">
                            <span class="stat-val">${score}</span>
                            <span class="stat-label">Tasks Completed</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-val">100%</span>
                            <span class="stat-label">Effort</span>
                        </div>
                    </div>
    
                    <p style="font-size: 18px; color: #1f4e79; font-weight: 600;">Your Knowledge Tree is blooming!</p>
                    <div style="margin-top: 40px; font-size: 14px; color: #cbd5e1;">Date: ${date} • Certificate ID: LL-${Math.floor(Math.random()*10000)}</div>
                    
                    <div class="seal">OFFICIAL<br>LinguaLab</div>
                </div>
                <script>
                    setTimeout(() => { window.print(); }, 500);
                <\/script>
            </body>
            </html>
        `);
        reportWindow.document.close();
    }

    // Авто-обновление дерева, если очки начислены в другой вкладке
    setInterval(() => {
      let currentScore = parseInt(localStorage.getItem('ll_score')) || 0;
      if (currentScore !== score) {
        score = currentScore;
        updateDisplay();
      }
    }, 1500);

    window.onload = updateDisplay;
  </script>
</body>
</html>
